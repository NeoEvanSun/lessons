<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script type="text/javascript" src="https://unpkg.com/vue"></script>
  </head>
  <body>

    <div id="root">
      <lifecircle v-if="destoryState"></lifecircle>
      <button v-on:click="showit">显示</button>
      <button v-on:click="hideit">隐藏</button>
    </div>

  </body>
  <script type="text/javascript">
    Vue.component('lifecircle',{
      template:'<div>{{labelText}}<button v-on:click="changeMyself">改变自己</button></div>',
      data:function(){
        return {
          labelText:"生命周期测试"
        }
      },
      methods:{
        changeMyself:function(){
          this.labelText = "我改变了自己";
        }
      },
      beforeCreate:function(){
        console.log('beforeCreate');
      },
      created:function(){
        console.log('created');
      },
      beforeMount:function(){
        console.log('beforeMount');
      },
      mounted:function(){
        console.log('mounted');
        this.labelText ='change';
      },
      beforeUpdate:function(){
        console.log('i will update')
      },
      updated:function(){
        console.log('i have been updated');
      }
    })

    var app =  new Vue({
      el:'#root',
      data:{
        destoryState:true
      },
      methods:{
        showit:function(){
          this.destoryState = true;
        },
        hideit:function(){
          this.destoryState = false;
        }
      }
    })
  </script>
</html>
